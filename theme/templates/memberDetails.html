{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en" x-data="data()">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Masho Fitness</title>
  <link rel="stylesheet" href="{% static 'public/main.css' %}">
  <link rel="icon" type="" sizes="32x32" href="{% static 'img/favicon.jpeg'%}" />
  <link rel="icon" type="" sizes="16x16" href="{% static 'img/favicon.jpeg'%}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">

  <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
  <script src="{% static 'js/init-alpine.js' %}"></script>
  <script src="{% static 'js/focus-trap.js' %}"></script>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/3/jquery.inputmask.bundle.js"></script>
  {% tailwind_css %}

</head>

<body>
  <div class="flex h-screen bg-gray-50" :class="{ 'overflow-hidden': isSideMenuOpen }">
    <!-- Desktop Sidebar ye side navigation ha -->
    <aside
      class="z-20 hidden w-60 overflow-y-auto scrollbar scrollbar-thin scrollbar-thumb-red-500 scrollbar-track-red-200 bg-white md:block flex-shrink-0">
      <div class="py-4 text-gray-600">
        <a href="/index/" class="ml-6 text-lg font-bold text-red-600">Masho Fitness</a>
        <ul class="ml-1 mt-6 mr-1 shadow-inner rounded-md shadow-slate-300 cursor-pointer">
          <li class="relative px-6 py-3">
            <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-red-700"
              href="{% url 'index' %}">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
              </svg>
              <span class="ml-4 text-md">Dashboard</span>
            </a>
          </li>
          <!-- GRM Management -->
          <li class="relative px-6 py-3">
            <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-red-700"
              href="{% url 'gymManagement' %}">
              <img src="{% static 'img/gym.png' %}" class="h-6" />
              <span class="ml-4 text-lg font-semibold">GYM Member</span>
            </a>
          </li>

          <!-- Add Member -->
          <li class="relative px-6 py-3">
            <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-red-700"
              href="{% url 'addMember'%}">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
              </svg>
              <span class="ml-4">Add Member(s)</span>
            </a>
          </li>

          <!-- View Member -->
          <li class="relative px-6 py-3">
            <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-red-700"
              href="{%url 'viewMembers' %}">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z" />
              </svg>
              <span class="ml-4">View Member(s)</span>
            </a>
          </li>

          <!-- Member Details -->
          <li class="relative px-6 py-3 text-red-900">
            <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-red-700"
              href="{% url 'memberDetails' %}">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z" />
              </svg>
              <span class="absolute inset-y-0 left-0 w-1 bg-red-600 rounded-tr-lg rounded-br-lg"></span>
              <span class="ml-4">Member Detail(s)</span>
            </a>
          </li>
        </ul>
      </div>
    </aside>
    <!-- Yahan Desktop Sidebar khatam -->

    <div class="flex flex-col flex-1 w-full">
      <!-- Header -->
      <header class="z-10 py-4 bg-white shadow-md print:hidden">
        <div class="container flex items-center justify-between h-full px-6 mx-auto text-purple-600">
          <!-- Mobile hamburger -->
          <button class="p-1 mr-5 -ml-1 rounded-md md:hidden focus:outline-none focus:shadow-outline-purple"
            aria-label="Menu">
            <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd"
                d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                clip-rule="evenodd"></path>
            </svg>
          </button>

          <ul class="hidden sm:flex items-center flex-shrink-0 space-x-6">
            <!-- Menu Close Open -->
            <li class="relative">
              <button class="relative align-middle rounded-md focus:outline-none focus:shadow-outline-purple">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
              </button>
            </li>
            <!-- Large Screen -->
            <li class="relative">
              <button class="relative align-middle rounded-md focus:outline-none focus:shadow-outline-purple">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" />
                </svg>
              </button>
            </li>
            <!-- Lock Screen -->
            <li class="relative">
              <button class="relative align-middle rounded-md focus:outline-none focus:shadow-outline-purple">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                </svg>
              </button>
            </li>
            <!-- Calender -->
            <li class="relative">
              <button class="relative align-middle rounded-md focus:outline-none focus:shadow-outline-purple">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
              </button>
            </li>
          </ul>
          <!-- Search input -->
          <div class="flex justify-center flex-1 lg:mr-32">
            <div class="relative w-full max-w-xl mr-6 focus-within:text-purple-500">
              <div class="absolute inset-y-0 flex items-center pl-2">
                <svg class="w-4 h-4" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd"
                    d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                    clip-rule="evenodd"></path>
                </svg>
              </div>
              <input
                class="w-full pl-8 pr-2 text-sm text-gray-700 placeholder-gray-600 bg-gray-100 border-0 rounded-md focus:placeholder-gray-500 focus:bg-white focus:border-purple-300 focus:outline-none focus:shadow-outline-purple form-input"
                type="search" placeholder="Search" aria-label="Search" />
            </div>
          </div>

          <ul class="flex items-center flex-shrink-0 space-x-6">
            <!-- Profile menu -->
            <li class="relative">
              <button class="align-middle rounded-full focus:shadow-outline-purple focus:outline-none"
                @click="toggleProfileMenu" @keydown.escape="closeProfileMenu" aria-label="Account" aria-haspopup="true">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </button>
              <template x-if="isProfileMenuOpen">
                <ul x-transition:leave="transition ease-in duration-150" x-transition:leave-start="opacity-100"
                  x-transition:leave-end="opacity-0" @click.away="closeProfileMenu" @keydown.escape="closeProfileMenu"
                  class="absolute right-0 w-56 p-2 mt-2 space-y-2 text-gray-600 bg-white border border-gray-100 rounded-md shadow-md"
                  aria-label="submenu">
                  <li class="flex">
                    <a class="inline-flex items-center w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800"
                      href="#">
                      <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                        <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                      </svg>
                      <span>Profile</span>
                    </a>
                  </li>
                  <li class="flex">
                    <a class="inline-flex items-center w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800"
                      href="#">
                      <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                          d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                        </path>
                        <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                      </svg>
                      <span>Settings</span>
                    </a>
                  </li>
                  <li class="flex">
                    <a class="inline-flex items-center w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800"
                      href="#">
                      <svg class="w-4 h-4 mr-3" aria-hidden="true" fill="none" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                          d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1">
                        </path>
                      </svg>
                      <span>Log out</span>
                    </a>
                  </li>
                </ul>
              </template>
            </li>
            <!-- Settings -->
            <li class="relative">
              <button class="relative align-middle rounded-md focus:outline-none focus:shadow-outline-purple"
                @click="toggleSettingMenu" @keydown.escape="closeSettingMenu" aria-label="Notifications"
                aria-haspopup="true">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <!-- Setting badge -->
                <span aria-hidden="true"
                  class="absolute top-0 right-0 inline-block w-3 h-3 transform translate-x-1 -translate-y-1 bg-red-600 border-2 border-white rounded-full"></span>
              </button>
              <template x-if="isSettingOpen">
                <ul x-transition:leave="transition ease-in duration-150" x-transition:leave-start="opacity-100"
                  x-transition:leave-end="opacity-0" @click.away="closeSettingMenu" @keydown.escape="closeSettingMenu"
                  class="absolute right-0 w-56 p-2 mt-2 space-y-2 text-gray-600 bg-white border border-gray-100 rounded-md shadow-md">
                  <li class="flex">
                    <a class="inline-flex items-center justify-between w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800"
                      href="#">
                      <span>Messages</span>
                      <span
                        class="inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-600 bg-red-100 rounded-full">
                        13
                      </span>
                    </a>
                  </li>
                  <li class="flex">
                    <a class="inline-flex items-center justify-between w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800"
                      href="#">
                      <span>Sales</span>
                      <span
                        class="inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-600 bg-red-100 rounded-full">
                        2
                      </span>
                    </a>
                  </li>
                  <li class="flex">
                    <a class="inline-flex items-center justify-between w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800"
                      href="#">
                      <span>Alerts</span>
                    </a>
                  </li>
                </ul>
              </template>
            </li>
          </ul>
        </div>
      </header>

      <!-- Main Inner Complete Page -->
      <main
        class="h-full overflow-y-auto scrollbar scrollbar-thin scrollbar-thumb-orange-600 scrollbar-track-orange-200">
        <div class="px-2 mx-auto grid">
          <div class="inline-flex my-2">
            <a href="{% url 'viewMembers' %}">
              <svg xmlns="http://www.w3.org/2000/svg" class="text-red-900 m-1 h-6 w-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
              </svg>
            </a>

            <h2 class="ml-96 text-2xl font-semibold text-blue-900">
              <span class="text-red-600">{{all_data.member_name}}</span> - Member Details
            </h2>
          </div>

          <div class="px-3 py-3 mb-8 bg-white rounded-lg shadow-md" x-data="invoices()">
            <form action="{% url 'memberDetails' %}" method="post" enctype="multipart/form-data">
              {%csrf_token%}
              <div class="grid sm:grid-cols-1 grid-flow-col md:grid-cols-4 font-semibold gap-x-4">
                <!-- Left Grid -->
                <div class="flex flex-col col-span-1 gap-y-3">
                  <div class="flex flex-col items-center row-span-2">
                    <label for="" class="m-1">Profile Photo</label>
                    <div class="w-32 h-32 mb-1 border rounded-lg overflow-hidden relative bg-gray-100">
                      <img id="image" class="object-cover w-full h-32"
                        src="{{ MEDIA_URL }}/{{all_data.member_image}}" />

                      <div
                        class="absolute top-0 left-0 right-0 bottom-0 w-full cursor-pointer flex items-center justify-center"
                        onClick="document.getElementById('fileInput').click()">
                        <button type="button" style="background-color: rgba(255, 255, 255, 0.65)"
                          class="hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 text-sm border border-gray-300 rounded-lg shadow-sm">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-camera" width="24"
                            height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                            stroke-linecap="round" stroke-linejoin="round">
                            <rect x="0" y="0" width="24" height="24" stroke="none"></rect>
                            <path
                              d="M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2" />
                            <circle cx="12" cy="13" r="3" />
                          </svg>
                        </button>
                      </div>
                    </div>
                    <input name="photo" id="fileInput" accept="image/*" class="hidden" type="file" onChange="let file = this.files[0]; 
                                            var reader = new FileReader();
                        
                                            reader.onload = function (e) {
                                                document.getElementById('image').src = e.target.result;
                                                document.getElementById('image2').src = e.target.result;
                                            };
                                        
                                            reader.readAsDataURL(file);
                                        " />
                  </div>

                  <div class="flex flex-col">
                    <label for="" class="m-1">Membership ID</label>
                    <input type="text" value="{{all_data.member_membership_id.id}}" readonly
                      class="rounded-md rounded-br-none p-2 outline-none border-none shadow-inner bg-gray-200" />
                  </div>

                  <div class="flex flex-col">
                    <label for="" class="m-1">Card No.</label>
                    <input type="text" value="{{all_data.member_card_id}}" name="card_id"
                      class="rounded-md rounded-br-none p-2 outline-none border-none shadow-inner bg-gray-200" />
                  </div>

                  <div class="flex flex-col">
                    <a href="/bodyAssesments/?data={{all_data.id}}" text-align="center"
                      class="flex bg-blue-400 mt-4 rounded-lg text-white shadow-md rounded-br-none py-2 px-4">
                      Body Assesments
                    </a>
                  </div>
                </div>

                <!-- Right Grid -->
                <div class="flex flex-col col-span-3">
                  <div class="grid grid-cols-3 font-semibold gap-x-3 gap-y-1">
                    <div class="flex flex-col">
                      <label for="" class="m-1">Full Name</label>
                      <input type="text" value="{{all_data.member_name}}" name="name"
                        class="rounded-md p-2 outline-none border-none shadow-inner bg-gray-200" />
                    </div>
                    <div class="flex flex-col">
                      <label for="" class="m-1">Father Name</label>
                      <input type="text" value="{{all_data.member_father_name}}" name="father_name"
                        class="rounded-md p-2 outline-none border-none shadow-inner bg-gray-200" />
                    </div>
                    <div class="flex flex-col">
                      <label for="" class="m-1">Contact No.</label>
                      <input type="text" value="{{all_data.member_contact}}" name="contact" maxlength="12"
                        class="rounded-md p-2 outline-none border-none shadow-inner bg-gray-200" />
                    </div>
                    {% if all_data.member_emergency_contact is none %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Alternative Number</label>
                      <input type="text" value="" name="alternative-number"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% else %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Alternative Number</label>
                      <input type="text" value="{{all_data.member_emergency_contact}}" name="alternative-number"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% endif %}

                    {% if all_data.member_email is none %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Email</label>
                      <input type="email" value="" name="email"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% else %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Email</label>
                      <input type="email" value="{{all_data.member_email}}" name="email"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% endif %}

                    {% if all_data.member_cnic is none %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">CNIC Number</label>
                      <input type="text" value="" name="cnic"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% else %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">CNIC Number</label>
                      <input type="text" value="{{all_data.member_cnic}}" name="cnic"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% endif %}


                    <div class="border col-span-3 border-blue-400"></div>
                    {% if all_data.member_occupation is none %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Occupation</label>
                      <input type="text" value="" name="occupation"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% else %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Occupation</label>
                      <input type="text" value="{{all_data.member_occupation}}" name="occupation"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% endif %}

                    <div class="flex flex-col">
                      <label for="" class="m-1">Attended By</label>
                      <input type="text" id="attended-by" value="{{all_data.attended_by.user.username}}"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" readonly
                        name="attended-by">
                    </div>

                    <div class="flex flex-col">
                      <label for="" class="m-1">Gender</label>
                      <input type="text" value="{{all_data.member_gender}}" readonly name="gender" id="member-gender"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    <!-- <div class="flex flex-col">
                      <label for="" class="m-1">Gender</label>
                      <select name="gender" id="member-gender" value="{{all_data.member_gender}}"
                        class="rounded-md bg-gray-200 outline-none border-none shadow-inner">
                        <option value="{{all_data.member_gender}}" class="">{{all_data.member_gender}}</option>

                        <option value="">Male</option>
                        <option value="">Female</option>
                      </select>
                    </div> -->

                    {% if all_data.member_address is none %}
                    <div class="flex flex-col col-span-3">
                      <label for="" class="m-1">Address</label>
                      <input type="text" value="" name="address"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% else %}
                    <div class="flex flex-col col-span-3">
                      <label for="" class="m-1">Address</label>
                      <input type="text" value="{{all_data.member_address}}" name="address"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% endif %}

                    <div class="border col-span-3 border-blue-400"></div>
                  </div>

                  <div class="grid grid-cols-4 mt-2 font-semibold gap-3">
                    {% if all_data.member_dob is none %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">DOB</label>
                      <input type="date" value='' name="dob" id="dateofbirth"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% else %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">DOB</label>
                      <input type="date" value='{{all_data.member_dob|date:"Y-m-d"}}' name="dob" id="dateofbirth"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% endif %}

                    {% if all_data.member_age is none %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Age</label>
                      <input type="text" value="" name="age" id='age' readonly
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" />
                    </div>
                    {% else %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Age</label>
                      <input type="text" value="{{all_data.member_age}}" name="age" id='age' readonly
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" />
                    </div>
                    {% endif %}

                    {% if all_data.member_blood_group is none %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Blood Group</label>
                      <select name="blood_group" id=""
                        class="rounded-md bg-gray-200 outline-none border-none shadow-inner">
                        <option value="" selected>Select Blood Group</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                        <option value="unknown">unknown</option>
                      </select>
                    </div>
                    {% else %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Blood Group</label>
                      <select name="blood_group" id=""
                        class="rounded-md bg-gray-200 outline-none border-none shadow-inner">
                        <option value="{{all_data.member_blood_group}}" selected>
                          {{all_data.member_blood_group}}
                        </option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                        <option value="unknown">unknown</option>
                      </select>
                    </div>
                    {% endif %}



                    <div class="flex flex-col">
                      <label for="" class="m-1 text-sm">Membership Category</label>
                      <select name="category" id="" value=""
                        class="rounded-md bg-gray-200 outline-none border-none shadow-inner">
                        <option value="{{all_data.member_membership_id.name}}" selected>
                          {{all_data.member_membership_id.category_name}}</option>
                        </option>

                      </select>
                    </div>
                    <div class="flex flex-col">
                      <label for="" class="m-1">Membership</label>
                      <input class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" type="text"
                        name="month" id="" value="{{all_data.member_membership_id.category_months}}" readonly>
                    </div>
                    <!-- <div class="flex flex-col">
                      <label for="" class="m-1">Membership</label>
                      <select name="month" id="" class="rounded-md bg-gray-200 outline-none border-none shadow-inner">
                        <option value="{{all_data.category_months}}" selected>
                          {{all_data.member_membership_id.category_months}}
                        </option>
                      </select>
                    </div> -->
                    <div class="flex flex-col">
                      <label for="" class="m-1">Amount</label>
                      <input type="text" name="amount" value="{{all_data.active_fee_id.total}}" readonly
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" />
                    </div>
                    <div class="flex flex-col">
                      <label for="" class="m-1">Discount</label>
                      <input type="text" value="{{all_data.active_fee_id.discount}}" name="discount" readonly
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    <div class="flex flex-col">
                      <label for="" class="m-1">Amount Paid</label>
                      <input type="text" value="{{payment}}" readonly
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>

                    <div class="flex flex-col">
                      <label for="" class="m-1"> Remaining Amount </label>
                      <input type="text" value="{{all_data.active_fee_id.remaining}}" readonly
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" />
                    </div>
                    {% if all_data.member_target is none %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Target</label>
                      <input type="text" value="" name="target"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% else %}
                    <div class="flex flex-col">
                      <label for="" class="m-1">Target</label>
                      <input type="text" value="{{all_data.member_target}}" name="target"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    {% endif %}


                    <div class="flex flex-col">
                      <label for="" class="m-1">Payment Status</label>
                      <select name="paymentstatus" id="" required
                        class="rounded-md bg-gray-200 outline-none border-none shadow-inner">
                        <option value="{{all_data.active_fee_id.status}}">{{all_data.active_fee_id.status}}</option>
                        <option value="Paid">Paid</option>
                        <option value="Unpaid">Unpaid</option>

                      </select>
                    </div>
                    <div class="flex flex-col">
                      <label for="" class="m-1">Serial No</label>
                      <input type="text" value="{{all_data.member_serial_no}}" id="serial-no" onkeyup="serialNoCheck(this)" name="serial-no" required
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>

                    <div class="border col-span-4 border-blue-400"></div>
                  </div>

                  <div class="grid grid-cols-4 mt-2 font-semibold gap-3">
                    <div class="flex flex-col">
                      <label for="" class="m-1">Membership Start Date</label>
                      <input type="date" value="{{all_data.member_membership_start_date|date:'Y-m-d'}}"
                        name="admissiondate" readonly
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>

                    <div class="flex flex-col">
                      <label for="" class="m-1">MemberShip Expire</label>
                      <input type="date" value="{{all_data.member_membership_expiry_date|date:'Y-m-d'}}" readonly
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" />
                    </div>

                    <div class="border col-span-4 border-blue-400"></div>
                  </div>
                  {% if all_data.active_fee_id.remaining > 0 %}
                  <h1 class="text-center text-lg p-2 border-2 border-gray-400 rounded-lg m-1">
                    Installments
                  </h1>


                  <div class="grid grid-cols-4 mt-2 font-semibold gap-3">
                    <div class="flex flex-col">
                      <label for="" class="m-1">Pending Amount</label>
                      <input type="text" readonly name="installment-pending-amount" id="pending-amount" required
                        value="{{all_data.active_fee_id.remaining}}"
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" />
                    </div>

                    <div class="flex flex-col">
                      <label for="" class="m-1">Pay Amonut</label>
                      <input type="text" name="installment-pay-amount" id="pay-amount" required
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" />
                    </div>
                    <div class="flex flex-col">
                      <label for="" class="m-1">New Pending Amonut</label> 
                      <input type="text" readonly name="istallment-new-pending-amount" id="new-pending-amount" required
                        class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" />
                    </div>

                  </div>
                  {% endif %}
                </div>

                <!-- Print Template -->
                <div id="js-print-template" x-ref="printTemplate" class="hidden">

                  <!-- header -->
                  <div class="bg-orange-500  inline-flex justify-between">
                    <div class="h-full">
                      <img src="{% static 'img/masho_logo.jpg'%}" alt="" class="w-40 m-3 rounded-full">
                    </div>
                    <div>
                      <h1 class="text-3xl text-center font-serif font-extrabold p-3">MASHO FITNESS GYM</h1>
                      <div class="grid grid-cols-2 grid-rows-2 m-5 gap-y-5">
                        <div class="flex gap-2">
                          <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6 p-1 bg-white border-2 border-black rounded-full" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                          </svg>
                          <span class="text-sm font-semibold">MASHO PLAZA NEAR GOVT. GIRLS SCHOLL</span>
                        </div>

                        <div class="flex gap-2">
                          <h2 class="bg-white rounded-full w-6 h-6 text-center border-2 border-black text-black">f</h2>
                          <span class="text-sm font-semibold">MASHO SPORTS COMPLEX</span>
                        </div>

                        <div class="flex gap-2">
                          <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6 p-1 bg-white border-2 border-black rounded-full" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M5 3a2 2 0 00-2 2v1c0 8.284 6.716 15 15 15h1a2 2 0 002-2v-3.28a1 1 0 00-.684-.948l-4.493-1.498a1 1 0 00-1.21.502l-1.13 2.257a11.042 11.042 0 01-5.516-5.517l2.257-1.128a1 1 0 00.502-1.21L9.228 3.683A1 1 0 008.279 3H5z" />
                          </svg>
                          <span class="text-sm font-semibold">0312-9384272</span>
                        </div>

                        <div class="flex gap-2">
                          <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6 p-1 bg-white border-2 border-black rounded-full" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path
                              d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                            <path
                              d="M16.707 3.293a1 1 0 010 1.414L15.414 6l1.293 1.293a1 1 0 01-1.414 1.414L14 7.414l-1.293 1.293a1 1 0 11-1.414-1.414L12.586 6l-1.293-1.293a1 1 0 011.414-1.414L14 4.586l1.293-1.293a1 1 0 011.414 0z" />
                          </svg>
                          <span class="text-sm font-semibold">081-2661045</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- header end -->

                  <div class="flex flex-row">
                    <div class="">
                      <div class="ml-48">
                        <div class="bg-zinc-800 m-3 px-10 rounded-lg">
                          <h2 class="text-3xl p-2 text-orange-500 font-[Gabriola]">MEMBERSHIP FORM</h2>
                        </div>
                      </div>

                      <div class="flex flex-col p-2">
                        <div class="flex flex-row gap-3">
                          <label for="" class="font-semibold">Full Name:</label>
                          <label for="" class="underline">{{all_data.member_name}}</label>
                        </div>

                        <div class="flex flex-row gap-3">
                          <label for="" class="font-semibold">Contact:</label>
                          <label for="" class="underline">{{all_data.member_contact}}</label>
                        </div>
                      </div>
                    </div>

                    <div class="ml-16 m-5">
                      <div class="w-32 h-36 mb-1 overflow-hidden rounded-none border-4 border-cyan-900">
                        <img id="image2" class="object-cover w-32 h-32"
                          src="{{ MEDIA_URL }}/{{all_data.member_image}}" />
                      </div>
                    </div>

                  </div>

                  <div class="mx-3">
                    <h2 class="text-xl font-bold underline">Terms and Conditions</h2>
                    <p class="italic">
                      To help the Masho fitness provide a satisfactory service to all its users, it has been necessary
                      to draw up rules and regulations. Use of the gym is therefore conditional upon the rules being
                      obeyed.
                    </p>
                    <ul class="list-disc p-5">
                      <li>All membership is non-transferable and non-refundable.</li>
                      <li>Sustainable gym outfits are suggested for workout; casual clothes are not allowed.</li>
                      <li>Guests are not allowed however they can sit in cafeteria.</li>
                      <li>Registered members are issued a gym membership identity card.</li>
                      <li>Members should use their own card, if anyone found using anyone else's card the membership
                        will be canceled.</li>
                      <li>In case of loss of the card there is a replacement charge of <span
                          class="font-bold underline">RS.1000/-</span></li>
                    </ul>

                    <h2 class="text-xl font-bold underline">GYM FACILITIES</h2>
                    <ul class="list-disc p-5">
                      <li>We provide <span class="font-bold italic">SPIRIT</span> series equipment for cardio as well as
                        strength, professional trainer, personal cupboard, massage sessions and healthy environment for
                        workout </li>
                      <li>We provide cafeteria for refershment</li>
                      <li>We provide only bike parking facility</li>
                    </ul>

                    <h2 class="text-lg underline font-bold">I agree to MASHO fitness's Rules while using gym service
                    </h2>

                    <div class="m-5">
                      <p class="float-right italic">Members's signature</p>
                    </div>
                  </div>


                  <div class="bg-orange-500 mt-4">
                    <h2 class="italic text-2xl text-center underline">For office use only</h2>
                    <div class="grid grid-cols-3 p-3 mt-4 text-lg">
                      <div class="">
                        <div class="flex flex-row gap-3">
                          <label for="">Full Name:</label>
                          <label for="" class="underline">{{all_data.member_name}}</label>
                        </div>
                      </div>
                      <div>
                        <div class="flex flex-row gap-3">
                          <label for="">Contact No:</label>
                          <label for="" class="underline">{{all_data.member_contact}}</label>
                        </div>
                      </div>
                      <div>
                        <div class="flex flex-row gap-3">
                          <label for="">Gender:</label>
                          <label for="" class="underline">{{all_data.member_gender}}</label>
                        </div>
                      </div>
                      <div>
                        <div class="flex flex-row gap-3">
                          <label for="">REG. no:</label>
                          <label for="" class="underline">{{all_data.id}}</label>
                        </div>
                      </div>
                      <div class="col-span-2">
                        <div class="flex flex-row gap-3">
                          <label for="">REG. Date:</label>
                          <label for="" class="underline">{{all_data.member_created_at}}</label>
                        </div>
                      </div>
                      <div>
                        <div class="flex flex-row gap-3">
                          <label for="">Category:</label>
                          <label for="" class="underline">{{all_data.member_membership_id.category_name}}</label>
                        </div>
                      </div>
                      <div class="col-span-2">
                        <div class="flex flex-row gap-3">
                          <label for="">Membership type:</label>
                          <label for="" class="underline">{{all_data.member_membership_id.category_class}}</label>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
                <!-- /Print Template -->

              </div>

              <div class="border mt-10 border-red-400"></div>
              <div class="grid col-span-7 grid-flow-col m-3 gap-2">
                <input type="text" hidden name="cid" value="{{all_data.id}}" />
                <div class="flex flex-col">
                  <button class="bg-blue-400 rounded-lg w-36 text-white shadow-md rounded-br-none py-2"
                    name="update-button" value="update-button">
                    Update
                  </button>
                </div>
                {% if all_data.active_fee_id.remaining <= 0 %}
                <div class="flex flex-col">
                  <button x-on:click.prevent="openRenewModal()"
                    class="bg-blue-600 rounded-lg w-36 text-white shadow-md rounded-br-none py-2">
                    Renew
                  </button>
                </div>
                {% endif %}
                <div class="flex flex-col">
                  <button @click="printInvoice()"
                    class="bg-gray-500 rounded-lg w-36 text-white shadow-md rounded-br-none py-2">
                    Print Form
                  </button>
                </div>

                <div class="flex flex-col">
                  <a href="/viewRecord/?cid={{all_data.id}}"
                    class="bg-green-400 rounded-lg w-36 text-white shadow-md rounded-br-none text-center py-2">View
                    Record</a>
                </div>
                {% if all_data.active_fee_id.remaining > 0 %}
                <div class="flex flex-col">
                  <button class="bg-blue-400 rounded-lg w-36 text-white shadow-md rounded-br-none py-2"
                    name="pay-installment" value="pay-installment">
                    Pay Installment
                  </button>
                </div>
                <script>
                  document.getElementById("pay-amount").onchange = function () {
                    let payableamount = document.getElementById("pay-amount").value;
                    let paidamount = document.getElementById("pending-amount").value;
                    let remainingamount = paidamount - payableamount
                    document.getElementById("new-pending-amount").value = remainingamount;
                  };
                </script>
                {% endif %}
              </div>
            </form>

            <div x-show="isRenewModalOpen" id="RenewModal"
              class="fixed w-full h-screen left-0 top-0 z-10 flex flex-wrap justify-center content-center p-24">
              <div x-show="isRenewModalOpen" class="fixed glass w-full h-screen left-0 top-0 z-0"
                x-transition:enter="transition ease-out duration-100" x-transition:enter-start="opacity-0"
                x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-100"
                x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"></div>
              <div x-show="isRenewModalOpen" class=" w-2/5 bg-blue-100 z-10"
                x-transition:enter="transition ease-out duration-100"
                x-transition:enter-start="opacity-0 transform scale-90"
                x-transition:enter-end="opacity-100 transform scale-100"
                x-transition:leave="transition ease-in duration-100"
                x-transition:leave-start="opacity-100 transform scale-100"
                x-transition:leave-end="opacity-0 transform scale-90">
                <div class="p-2">
                  <div class="float-right">
                    <svg xmlns="http://www.w3.org/2000/svg" x-on:click="closeRenewModal()"
                      class="h-5 w-5 text-blue-800 cursor-pointer" fill="none" viewBox="0 0 24 24"
                      stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                  </div>
                  <form action="{% url 'memberDetails' %}" method="post">
                    {% csrf_token %}
                    <input type="text" name="cid" hidden value="{{all_data.id}}" />
                    <div class="grid grid-cols-2 gap-y-2 mt-3 gap-x-3 p-2 overflow-y-auto">
                      <div class="flex flex-col">
                        <label for="" class="m-1">Membership Start Date</label>
                        <input type="date" id="model-start-date" name="model-start-date"
                          class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200">
                      </div>

                      <div class="flex flex-col">
                        <label for="" class="m-1 text-sm">Membership Category</label>
                        <select name="model-membershipcategory" id="model-membershipcategory"
                          class="rounded-md bg-gray-200 outline-none border-none shadow-inner">
                          <option value="">Select Membership</option>
                          {% for i in category %}
                          <option value="{{i}}">{{i}}</option>
                          {% endfor %}

                        </select>
                      </div>
                      <div class="flex flex-col">
                        <label for="" class="m-1 text-sm">Membership Class</label>
                        <select name="model-membership-class" id="model-membership-class"
                          onchange="categoryClassChange()"
                          class="rounded-md bg-gray-200 outline-none border-none shadow-inner">
                          <option value="">Select Membership</option>
                          <option value="Platinium">Platinium</option>
                          <option value="Gold">Gold</option>
                          <option value="Silver">Silver</option>
                          <option value="Bronze">Bronze</option>

                        </select>
                      </div>
                      <input type="text" name="rew-model-gender" hidden value="{{all_data.member_gender}}">
                      <div class="flex flex-col">
                        <label for="" class="m-1">Membership Duration</label>
                        <input type="text" id="model-category-months" name="model-category-months"
                          class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200">
                      </div>
                      <div class="flex flex-col">
                        <label for="" class="m-1">Amount</label>
                        <input type="number" readonly id="model-amount"
                          class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" name="model-amount">
                      </div>
                      <div class="flex flex-col">
                        <label for="" class="m-1">Discount</label>
                        <input type="text" id="model-discount" value="0"
                          class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200"
                          name="model-discount">
                      </div>

                      <div class="flex flex-col">
                        <label for="" class="m-1">Payable Amount</label>
                        <input type="number" readonly id="model-payableamount"
                          class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300"
                          name="model-payableamount">
                      </div>
                      <div class="flex flex-col">
                        <label for="" class="m-1">MemberShip Expire</label>
                        <input type="text" readonly id="model-expiry"
                          class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300"
                          name="model-membership-expire">
                      </div>
                      <div class="flex flex-col">
                        <label for="" class="m-1">Attended By</label>
                        <input type="text" id="attended-by" value="{{request.user.username}}"
                          class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-300" readonly
                          name="attended-by">
                      </div>
                      <div class="flex flex-col">
                        <label for="" class="m-1">Instalment ?</label>
                        <div class="flex flex-row">

                          <input type="checkbox" class="rounded-md mt-2 mr-3 shadow-inner p-2 bg-gray-200"
                            name="instalment" id="instalment" onclick="instalmentValueChanged(this)">
                          <label for="" class="m-1">Installment</label>
                        </div>
                      </div>
                    </div>

                    <div class="flex flex-row col-span-2" style="display: None;" id="paidamount">
                      <div class="flex flex-row gap-x-3">
                        <div class="flex flex-col">
                          <label for="" class="m-1">Paid Amount</label>
                          <input type="text" id="paidamounts"
                            class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200" name="paidamount">
                        </div>

                        <div class="flex flex-col">
                          <label for="" class="m-1">Remaining Amount</label>
                          <input type="nuumber" id="remaining-amount" readonly
                            class="rounded-md outline-none border-none shadow-inner p-2 bg-gray-200"
                            name="remainingamount">
                        </div>

                      </div>
                    </div>

                    <button class="bg-blue-600 px-10 rounded-lg mt-5 text-white ml-32 shadow-md rounded-br-none py-1"
                      name="submit-button" value="submit-button">Renew Subscription</button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>

  </div>
  </main>
  </div>
  </div>

  <script>
    function invoices() {
      return {
        // Renew Modal
        isRenewModalOpen: false,
        trapCleanupRenew: null,
        openRenewModal() {
          this.isRenewModalOpen = true;
          this.trapCleanupRenew = focusTrap(
            document.querySelector("#RenewModal")
          );
        },
        closeRenewModal() {
          this.isRenewModalOpen = false;
          this.trapCleanupRenew();
        },

        // Bill Modal
        isViewBillModalOpen: false,
        trapCleanupViewBill: null,
        openViewBillModal() {
          this.isViewBillModalOpen = true;
          this.trapCleanupViewBill = focusTrap(
            document.querySelector("#ViewBillModal")
          );
        },
        closeViewBillModal() {
          this.isViewBillModalOpen = false;
          this.trapCleanupViewBill();
        },


        items: [],
        invoiceNumber: 0,
        invoiceDate: "",
        invoiceDueDate: "",

        totalGST: 0,
        netTotal: 0,

        item: {
          id: "",
          name: "",
          qty: 0,
          rate: 0,
          total: 0,
          gst: 18,
        },

        billing: {
          name: "",
          father_name: "",
          contact_number: "",
          alt_number: "",
          email: "",
          CNIC: "",
          occupation: "",
          gender: "",
          address: "",
          father_name: "",
          father_name: "",
          father_name: "",
        },
        from: {
          name: "",
          address: "",
          extra: "",
        },

        showTooltip: false,
        showTooltip2: false,
        openModal: false,

        addItem() {
          this.items.push({
            id: this.generateUUID(),
            name: this.item.name,
            qty: this.item.qty,
            rate: this.item.rate,
            gst: this.calculateGST(this.item.gst, this.item.rate),
            total: this.item.qty * this.item.rate,
          });

          this.itemTotal();
          this.itemTotalGST();

          this.item.id = "";
          this.item.name = "";
          this.item.qty = 0;
          this.item.rate = 0;
          this.item.gst = 18;
          this.item.total = 0;
        },

        generateInvoiceNumber(minimum, maximum) {
          const randomNumber =
            Math.floor(Math.random() * (maximum - minimum)) + minimum;
          this.invoiceNumber = "#INV-" + randomNumber;
        },

        numberFormat(amount) {
          return amount.toLocaleString("en-US", {
            style: "currency",
            currency: "PKR",
          });
        },

        printInvoice() {
          var printContents = this.$refs.printTemplate.innerHTML;
          var originalContents = document.body.innerHTML;

          document.body.innerHTML = printContents;
          window.print();
          document.body.innerHTML = originalContents;
        },

      };
    };

    document.getElementById("dateofbirth").onchange = function () {
      var Bdate = this.value;
      var Bday = +new Date(Bdate);
      document.getElementById('age').value = ~~((Date.now() - Bday) / (31557600000));
    };
    function categoryClassChange() {
      let category_name = document.getElementById("model-membershipcategory").value
      let category_class = document.getElementById("model-membership-class").value
      let category_gender = document.getElementById("member-gender").value


      $.ajax({
        method: "GET",
        url: "/api/get_membershipCategory/",
        data: {
          "category_name": category_name,
          "category_class": category_class,
          "category_gender": category_gender
        },
        success: function (data) {
          Object.keys(data).forEach(key => {
            var value = data[key];
            document.getElementById("model-category-months").value = value['category_months'];
            document.getElementById("model-amount").value = value["category_fee"];
            document.getElementById("model-payableamount").value = value["category_fee"];
            getExpiry(value['category_months']);

          });
        },
        error: function () {
          console.log("error on get Membership Category months");
        }
      });
    };
    document.getElementById("model-discount").onchange = function () {

      var amount = document.getElementById('model-amount').value;
      var discount = document.getElementById('model-discount').value;
      var total = amount - discount;
      console.log(total);
      document.getElementById('model-payableamount').value = total;
    };
    function getExpiry(data) {
      var expiry = new Date(document.getElementById("model-start-date").value);
      var getmonth = data

      getmonth = parseInt(getmonth.replace(/[^\d.]/g, ''));
      expiry.setMonth(expiry.getMonth() + getmonth);
      document.getElementById('model-expiry').value = expiry.toISOString().slice(0, 10);
    };

    function instalmentValueChanged(instalment) {
      var paidamount = document.getElementById("paidamount");
      // var remainingamount = document.getElementById("remainingamount");
      paidamount.style.display = instalment.checked ? "block" : "none";
      // remainingamount.style.display = instalment.checked ? "block" : "none";

    };

    document.getElementById("paidamounts").onchange = function () {
      let payableamount = document.getElementById("model-payableamount").value;
      let paidamount = document.getElementById("paidamounts").value;
      let remainingamount = payableamount - paidamount
      document.getElementById("remaining-amount").value = remainingamount;
    };

    var today = new Date();
    document.getElementById("today-date").value = today.getFullYear() + '-' + ('0' + (today.getMonth() + 1)).slice(-2) + '-' + ('0' + today.getDate()).slice(-2);
    
    function serialNoCheck(data){
    data=data.value
    $.ajax({
        method: "GET",
        data: {'serial_no':data},
        url: "/api/checkSerialNo/",
        success: function (data) {
            if(data['status']=='success'){
                $('#serial-no').removeClass('text-red-500');
                $('#serial-no').addClass('text-green-500');
                $('#serial-no').text('Available');
            }else{
                $('#serial-no').removeClass('text-green-500');
                $('#serial-no').addClass('text-red-500');
                $('#serial-no').text('Not Available');
            }
        }
    })
};
$(":input").inputmask();
  </script>

</body>

</html>